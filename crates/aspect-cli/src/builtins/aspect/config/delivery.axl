"""Configures delivery task for Workflows"""

load("../tasks/delivery.axl", "delivery")
load("../fragments.axl", "DeliveryFragment")
load("../lib/deliveryd.axl", deliveryd_health = "health")

def configure_delivery(ctx: ConfigContext):
    # Add a delivery verb
    ctx.tasks.add(delivery)

    # Configure DeliveryFragment fragment globally
    ctx.fragments[DeliveryFragment].delivery_start = lambda: print("--- :bazel: Delivery")
